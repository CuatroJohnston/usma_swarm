<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>ACS ap_lib: ap_lib.distributed_algorithms.LossyDataExchange Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ACS ap_lib
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classap__lib_1_1distributed__algorithms_1_1_lossy_data_exchange.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="classap__lib_1_1distributed__algorithms_1_1_lossy_data_exchange-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ap_lib.distributed_algorithms.LossyDataExchange Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for ap_lib.distributed_algorithms.LossyDataExchange:</div>
<div class="dyncontent">
<div class="center"><img src="classap__lib_1_1distributed__algorithms_1_1_lossy_data_exchange__inherit__graph.png" border="0" usemap="#ap__lib_8distributed__algorithms_8_lossy_data_exchange_inherit__map" alt="Inheritance graph"/></div>
<map name="ap__lib_8distributed__algorithms_8_lossy_data_exchange_inherit__map" id="ap__lib_8distributed__algorithms_8_lossy_data_exchange_inherit__map">
<area shape="rect" id="node3" href="classap__lib_1_1distributed__algorithms_1_1_eager_consensus_sort.html" title="ap_lib.distributed\l_algorithms.EagerConsensusSort" alt="" coords="5,171,221,213"/><area shape="rect" id="node4" href="classap__lib_1_1distributed__algorithms_1_1_lazy_consensus_sort.html" title="ap_lib.distributed\l_algorithms.LazyConsensusSort" alt="" coords="8,262,217,303"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for ap_lib.distributed_algorithms.LossyDataExchange:</div>
<div class="dyncontent">
<div class="center"><img src="classap__lib_1_1distributed__algorithms_1_1_lossy_data_exchange__coll__graph.png" border="0" usemap="#ap__lib_8distributed__algorithms_8_lossy_data_exchange_coll__map" alt="Collaboration graph"/></div>
<map name="ap__lib_8distributed__algorithms_8_lossy_data_exchange_coll__map" id="ap__lib_8distributed__algorithms_8_lossy_data_exchange_coll__map">
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a530e25ca9d04858bb07579f25e9e5179"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classap__lib_1_1distributed__algorithms_1_1_lossy_data_exchange.html#a530e25ca9d04858bb07579f25e9e5179">__init__</a></td></tr>
<tr class="separator:a530e25ca9d04858bb07579f25e9e5179"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb05c4628f2ff2c7ea85c6a5028d45fa"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classap__lib_1_1distributed__algorithms_1_1_lossy_data_exchange.html#afb05c4628f2ff2c7ea85c6a5028d45fa">reset</a></td></tr>
<tr class="separator:afb05c4628f2ff2c7ea85c6a5028d45fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e06ff888c0d22c5e635c8b715ed94bd"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classap__lib_1_1distributed__algorithms_1_1_lossy_data_exchange.html#a1e06ff888c0d22c5e635c8b715ed94bd">set_msg_publisher</a></td></tr>
<tr class="separator:a1e06ff888c0d22c5e635c8b715ed94bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a950e77c1f706bc1f4ea2ecd4662ae54c"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classap__lib_1_1distributed__algorithms_1_1_lossy_data_exchange.html#a950e77c1f706bc1f4ea2ecd4662ae54c">has_msg_publisher</a></td></tr>
<tr class="separator:a950e77c1f706bc1f4ea2ecd4662ae54c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f879eea4241f8922678317481b768bc"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classap__lib_1_1distributed__algorithms_1_1_lossy_data_exchange.html#a5f879eea4241f8922678317481b768bc">process_message</a></td></tr>
<tr class="separator:a5f879eea4241f8922678317481b768bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a260824fe0967cb21a4250bd86aa51943"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classap__lib_1_1distributed__algorithms_1_1_lossy_data_exchange.html#a260824fe0967cb21a4250bd86aa51943">send_requested</a></td></tr>
<tr class="separator:a260824fe0967cb21a4250bd86aa51943"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a1053712310d9e51873f7e9f9ddbf6688"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1053712310d9e51873f7e9f9ddbf6688"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>rounds</b></td></tr>
<tr class="separator:a1053712310d9e51873f7e9f9ddbf6688"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20df3a9b79740628b0d86a0263a8517e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a20df3a9b79740628b0d86a0263a8517e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>xmit_msgs</b></td></tr>
<tr class="separator:a20df3a9b79740628b0d86a0263a8517e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae160bbf2e712093abbaff00eb403d693"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae160bbf2e712093abbaff00eb403d693"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>xmit_bytes</b></td></tr>
<tr class="separator:ae160bbf2e712093abbaff00eb403d693"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a066b10cb947d2a51eb6f005e8efa0454"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a066b10cb947d2a51eb6f005e8efa0454"></a>
tuple&#160;</td><td class="memItemRight" valign="bottom"><b>MIN_COMMS_DELAY</b> = rospy.Duration(0.25)</td></tr>
<tr class="separator:a066b10cb947d2a51eb6f005e8efa0454"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Abstract class used in support of reliable information exchange
among swarm UAVs relying on lossy communications links

Member variables:
  _own_id: ID of this UAV
  _subswarm: set of current subswarm IDs
  _crashed: set of UAVs suspected of crashing (no reports)
  _short_list_parser: parser for received id-short value messages
  _msg_publisher: ROS publisher for swarm behavior messages
  _data: dictionary containing data to be sorted
  _to_send: set of id-value pairs to broadcast
  _lock: re-entrant lock for enforcing thread safety
  _behavior_msg: BehaviorData message object for sending data &amp; requests
  _info_bcast_time: ROS time of the last information broadcast
  _rqst_bcast_time: ROS time of the last information request broadcast      
  rounds: number of rounds the algorithm has executed (for data collection)
  xmit_msgs: number of messages transmitted (for data collection)
  xmit_bytes: number of bytes transmitted (for data collection)

Class methods:
  reset: initialize to start over
  process_message: process a swarm data message from another UAV
  send_requested: broadcast requested data from this UAV to the network
  decide_sort: broadcast a request for any missing data or perform the sort
</pre> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a530e25ca9d04858bb07579f25e9e5179"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def ap_lib.distributed_algorithms.LossyDataExchange.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>subswarm_keys</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>crashed_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>own_id</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Initializer for the class sets up class variables
@param subswarm_keys: Set object containing active subswarm IDs
@param crashed_list: Set object containing IDs of possible crashed UAVs
@param msg_publisher: ROS publisher to the swarm_data_msg topic
@param lock: reentrant lock that will be used to enforce thread safety
</pre> 
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a950e77c1f706bc1f4ea2ecd4662ae54c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def ap_lib.distributed_algorithms.LossyDataExchange.has_msg_publisher </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Returns True if the message publisher has been set
</pre> 
</div>
</div>
<a class="anchor" id="a5f879eea4241f8922678317481b768bc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def ap_lib.distributed_algorithms.LossyDataExchange.process_message </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Processes BehaviorParameter messages from the recv_swarm_data topic
This method must be implemented by the inheriting class and should be
called from the ROS message callback.  Received messages can contain
ID/value pairs or a list of IDs that a particular UAV is requesting the
sort values for.  Other message types will be ignored.
</pre> 
</div>
</div>
<a class="anchor" id="afb05c4628f2ff2c7ea85c6a5028d45fa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def ap_lib.distributed_algorithms.LossyDataExchange.reset </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>own_value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Initializes the exchange object to start from scratch
@param own_value: the sort value for this UAV (must be immutable)
</pre> 
</div>
</div>
<a class="anchor" id="a260824fe0967cb21a4250bd86aa51943"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def ap_lib.distributed_algorithms.LossyDataExchange.send_requested </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Sends any available data that has been requested by other UAVs
This method must be implemented by the inheriting class and should be
called once per loop even after decided so that UAVs that have not
decided yet will still get the info
</pre> 
</div>
</div>
<a class="anchor" id="a1e06ff888c0d22c5e635c8b715ed94bd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def ap_lib.distributed_algorithms.LossyDataExchange.set_msg_publisher </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>msg_publisher</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Sets the message publisher of the object so that messages can be
exchanged with other UAVs (publishes to the swarm_data_msg topic).
@param msg_publisher: ROS publisher to the swarm_data_msg topic 
</pre> 
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/user1/ACS/acs_ros_ws/src/autonomy-payload/ap_lib/src/ap_lib/distributed_algorithms.py</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>ap_lib</b></li><li class="navelem"><b>distributed_algorithms</b></li><li class="navelem"><a class="el" href="classap__lib_1_1distributed__algorithms_1_1_lossy_data_exchange.html">LossyDataExchange</a></li>
    <li class="footer">Generated on Tue Jan 3 2017 11:37:53 for ACS ap_lib by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
